$def with (weeks)


<!DOCTYPE html>
<html>
<head>
	<title>week - </title>	
		<!-- bootstrap -->
	<link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" rel="stylesheet">
	<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	 

</head>
<body>
	<!-- navigation  -->
	<div class="container-fluid">

		<div class="row">
			<nav class="navbar navbar-inverse">
				<div class="container-fluid">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="#">
							<img src="/static/images/logo_25x25.png">
						</a>
					</div>

					<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
						<ul class="nav navbar-nav">
							<li class="active"><a href="#">Home <span class="sr-only">(current)</span></a></li>
							<li class="timetable"><a href="/timetable/T8-305/1">Timetable</a></li>


							<li class="orderlist"><a href="/orderlist"> Order</a></li>



							<li class="adduser"><a href="/user"> User</a></li>
							<li class="week"><a href="/week"> Week</a></li>



						</ul>

						<ul class="nav navbar-nav navbar-right">

							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> $context.get('uname') <span class="caret"></span></a>
								<ul class="dropdown-menu">
									<li><a href="/login">Login</a></li>
									<li><a href="/logout">Logout</a></li>


								</ul>
							</li>
						</ul>
					</div>
				</div>
			</nav>

		</div>
	</div>


	<div class="container main">

		


		<!-- timetable -->
		

    	 <!-- Modal -->
<div class="modal fade" id="myWeek" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Week</h4>
            </div>
            <form class="form-horizontal" role="form" method="POST">
                <input type='hidden' name='csrfmiddlewaretoken' value='kh8uT6W52DPSg11tauxj0EIPfzF6qHKMqUN00hO569nrZAfxFdx4QS0VgIfOi53o' />

                <div class="modal-body">

                    <div class="form-group">
                        <label for="week" class="col-sm-2 control-label"> Number</label>
                        <div class="col-sm-8">
                            <select name="week_num" id="week_num" class="form-control">
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="Date" class="col-sm-2 control-label">Start   :</label>
                        <div class="col-sm-8">
                            <input type="date" name="date_start" class="form-control" id="date_start" required />
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="Date" class="col-sm-2 control-label">End   :</label>
                        <div class="col-sm-8">
                            <input type="date" name="date_end" class="form-control" id="date_end" required />
                        </div>
                    </div>

                    

                    <div class="form-group">
                        <div class="col-sm-8">
                            <input type="hidden" name="week_id" class="form-control" id="week_id" value="0" />
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-sm-8">
                            <input type="hidden" name="xx" class="form-control" id="xx" value="0" />
                        </div>
                    </div>

                    

                    


                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Confirm</button>
                    </div>
                </div>
                
            </form>
        </div>
    </div>
</div>

		<div class="row">

    		<div class="col-md-12">
    			<ul class="nav navbar-nav navbar-right">
					<li>
						<button type="button" class="btn btn-success newweek">Add New</button>
					</li> 
				
				</ul>

    		</div>

    	</div>

    	<table class="table table-hover table-bordered" id="orderlist">

			<thead>
				<tr>
					<th>
						week
					</th>

					<th>Start Date</th>

					<th>End Date</th>

					<th>Action</th>

					<!-- <th>Saterday</th> -->

					<!-- <th>Sunday</th> -->
				</tr>
			</thead>

			<tbody>
				$for item in weeks
				
						<tr>
							<td style="display:none" class="week_id">$item.id</td>
							<td> $item.week_num </td>
							<td> $item.date_start </td>
							<td> $item.date_end </td>
							<td> 
								<a href="/dealweek/remove/$item.id" type="button" class="btn btn-danger removeweek">Remove</a>

								<a  class="btn btn-success updateweek">Update</a>
							</td>
						</tr>

			</tbody>
		</table>



		
	</div>
	<!-- footer  -->
	 <footer class="footer navbar-fixed-bottom "> 
<!--<footer class="footer navbar "> -->
    <div class="container">
    	 
    	  <li class="list-group-item list-group-item-success">admin: 2010jing</li>

    </div>
</footer>

</body>

 

<script type="text/javascript">
	

	



	$$(document).ready(function () {

		// nav active
	    $$('.nav li').removeClass("active");
	    $$('.week').addClass('active');

	    // td Click 
	    $$('.newweek,.updateweek').attr('data-toggle','modal');
	    $$('.newweek,.updateweek').attr('data-target','#myWeek');

		

	    
	});


	$$(function(){
		$$(".updateweek").click(function () {
	    	var week_id = $$(this).parent().parent().find("td").eq(0).text();
	    	var week_num = $$(this).parent().parent().find("td").eq(1).text().trim();
	    	var date_start = $$(this).parent().parent().find("td").eq(2).text().trim();
	    	var date_end = $$(this).parent().parent().find("td").eq(3).text().trim();
	    	console.log(week_id + week_num + date_start + date_end)

	    	$$('#week_id').val(week_id);
	    	$$('#week_num').val(week_num);
	    	$$('#date_start').val(date_start);
	    	$$('#date_end').val(date_end);
	    	$$('#xx').val(week_num);
            
            
	    })

	})


	

</script>



</html>